!function(){"use strict";function e(e,n){e.has("$mdUtil")||n.decorator("$$rAF",["$delegate",t])}function t(e){return e.throttle=function(t){var n,o,r,i;return function(){n=arguments,i=this,r=t,o||(o=!0,e(function(){r.apply(i,Array.prototype.slice.call(n)),o=!1}))}},e}e.$inject=["$injector","$provide"],angular.module("virtual-pete",[]).config(e)}(),function(){"use strict";function e(e,t,n){function o(o){var r=e.get(o);return r?r:void n.error(t.supplant(i,[o||""]))}function r(t){return e.when(t)["catch"](n.error)}var i="virtual-pete '{0}' is not available! Did you use md-component-id='{0}'?",u={find:o,waitFor:r};return function(e){return void 0===e?u:o(e)}}e.$inject=["$mdComponentRegistry","$mdUtil","$log"],angular.module("virtual-pete").factory("$virtualPete",e)}(),function(){"use strict";function e(e,t){function n(t,n,o,r){var i;return function(){var u=o,a=Array.prototype.slice.call(arguments);e.cancel(i),i=e(function(){i=void 0,t.apply(u,a)},n||10,r)}}function o(e,t){t=t||document.body;for(var n=0;e&&e!==t;)n+=e.offsetTop,e=e.offsetParent;return n}function r(e){for(var t=e.parent();void 0!==t&&i("overflow-y",t[0])===!1;)t=t[0]===document?void 0:t.parent();return void 0!==t?t[0]:void 0}function i(e,n){if(n=n||element[0],n===document)return!1;var o=t.getComputedStyle(n);return angular.isDefined(o[e])&&("scroll"==o[e]||"auto"==o[e])}var u={debounce:n,getOverflowParent:r,getOffsetTopDifference:o};return u}e.$inject=["$timeout","$window"],angular.module("virtual-pete").factory("virtualPeteUtil",e)}(),function(){"use strict";function e(){function e(e,t){e.addClass("virtual-pete-container")}function n(e){return'<div class="virtual-pete-floater"><div class="virtual-pete-offsetter">'+e[0].innerHTML+"</div></div>"}var o={template:n,controller:t,compile:e};return o}function t(e,t,n,o,r,i,u,a,l){function c(t){w=t,A.on("resize",L),k?angular.element(U).on("scroll wheel touchmove touchend",j):A.on("scroll wheel touchmove touchend",j),e.$on("$destroy",function(){A.off("resize",L),k?angular.element(U).off("scroll wheel touchmove touchend",j):A.off("scroll wheel touchmove touchend",j),"function"==typeof M&&(M(),M=void 0)}),r(function(){w.updateContainer()});var n=w.getMdComponentId();M=l.register({scrollToTop:f,reload:w.reload,componentId:n},n)}function f(){s(0)}function s(e){k?U.scrollTop=e:i.scrollTo(i.scrollX,e),y()}function d(){var e=w.getItemSize(),t=w.getItemCount();g(e*t),y(),w.updateContainer()}function v(){return D}function p(){return x}function m(){return I}function g(e){P=e,t[0].style.height=e+"px",h()}function h(){var e=C(),n=t[0].getBoundingClientRect().top,o=i.innerHeight-Math.max(e,n);x!==o&&(x=o,z.style.height=x+"px")}function $(){var e=S();I=e>H?"down":"up",H=e}function y(){var e,n=!1,o=C(),r=t[0].getBoundingClientRect().top,a=i.innerHeight-Math.max(o,r),l=Math.max(0,-r+o),c=w.getItemSize(),f=Math.max(0,l/c)%1*c,s=u.getOffsetTopDifference(t[0],U);D=Math.max(0,S()-s),$(),x!==a&&(x=a,z.style.height=a+"px",n=!0),l!==T&&(T=l,e="translateY("+l+"px)",z.style.webkitTransform=e,z.style.transform=e,n=!0),b!==f&&(b=f,e="translateY("+-f+"px)",R.style.webkitTransform=e,R.style.transform=e,n=!0),n&&w.updateContainer()}function C(){return k?U.offsetTop:0}function S(){return k?U.scrollTop:i.scrollY}var w,P,x,T,b,I,M,O=this,D=0,H=0,j=r.throttle(y),z=(parseInt(n.offsetSize)||0,t[0].querySelector(".virtual-pete-floater")),R=t[0].querySelector(".virtual-pete-offsetter"),U=u.getOverflowParent(t),k=void 0!==U,A=angular.element(i),L=u.debounce(d,10,null,!1);O.register=c,O.getDisplayHeight=p,O.setContainerHeight=g,O.getScrollOffset=v,O.getScrollDirection=m,O.resetScroll=f,O.scrollTo=s,O.debounce=u.debounce}t.$inject=["$scope","$element","$attrs","$parse","$$rAF","$window","virtualPeteUtil","$timeout","$mdComponentRegistry"],angular.module("virtual-pete").directive("virtualPeteContainer",e)}(),function(){"use strict";function e(e,n,o,r,i){function u(n,u){var a=u.virtualPeteRepeat,l=a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),c=l[1],f=e(l[2]),s=void 0!==u.virtualPeteLoader,d=s?e(u.virtualPeteLoader):void 0,v=void 0!==u.virtualPetePagination,p=v?parseInt(u.virtualPetePagination||100):void 0,m=void 0!==u.virtualPeteSearchTerm&&void 0!==u.virtualPeteSearchLoader,g=m?e(u.virtualPeteSearchTerm):void 0,h=m?e(u.virtualPeteSearchLoader):void 0;return function(n,a,$,y,C){function S(e){var t=(Date.now(),v?d(n,{$page:e,$pageCount:p}):d(n));return r.resolve(t).then(function(t){return w(t,e)})}function w(e,t){v?(Q[t]=e||[],L=Object.keys(Q).reduce(function(e,t){return e.concat(Q[t])},[])):L=e,P()}function P(){var e=L.map(function(e){return e.id});A(n,L.concat(ee.filter(function(t){return e.indexOf(t.id)===-1})))}function x(){I(),v&&M(),(N!==Y||X!==E||q.getScrollOffset()>q.getDisplayHeight())&&T(R,R)}function T(e,t){B=!0;var n,o,r,i,u,l,c=e&&e.length||0,f=!1,s=[],d=[];if(R&&c<_&&0!==q.getScrollOffset()){R=e;var p=q.getScrollOffset();q.resetScroll(),q.scrollTo(p)}for(c!==_&&(f=!0,_=c),R=e,e===t&&f!==!0||(I(),v&&M()),f===!0&&(q.setContainerHeight(_*U),k=q.getDisplayHeight()),r=Object.keys(J),n=0,o=r.length;n<o;)u=parseInt(r[n],10),(u<N||u>=X)&&z(u),n+=1;for(n=N;n<X&&(null===J[n]||void 0===J[n]);)i=D(n),H(i,n),s.push(i),n+=1;for(;null!==J[n]&&void 0!==J[n];)H(J[n],n),n+=1;for(l=n-1;n<X;)i=D(n),H(i,n),d.push(i),n+=1;s.length&&F.insertBefore(O(s),a[0].nextSibling),d.length&&F.insertBefore(O(d),J[l]&&J[l].element[0].nextSibling),Y=N,E=X,B=!1}function b(e){if(!U){var t;C(function(e,n){t={element:e,"new":!0,scope:n}}),t.element[0].parentNode||F.appendChild(t.element[0]),U=t.element[0].offsetHeight||0,F.removeChild(t.element[0])}}function I(){var e=R?R.length:0,n=Math.ceil(k/U);N=Math.max(0,Math.min(e-n,Math.floor(q.getScrollOffset()/U))),G=N+n+t,X=Math.min(e,G)}function M(){var e=X-t;Z=Math.ceil(e/p);var n="down"===q.getScrollDirection()?Z+1:Z-1;if(n<1&&(n=1),!V&&v&&n&&n!==W){if(Q[n]&&!Q[n].length)return;V=!0,S(n).then(function(e){W=n,V=!1})}}function O(e){var t=o[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t}function D(e){if(K.length)return K.pop();var t;return C(function(n,o){t={element:n,"new":!0,scope:o},j(o,e),F.appendChild(n[0])}),t}function H(e,t){J[t]=e,t%2===1?e.element.addClass("br-odd"):e.element.removeClass("br-odd"),(e["new"]||e.scope.$index!==t||e.scope[c]!==R[t])&&(e["new"]=!1,j(e.scope,t),n.$root.$$phase||e.scope.$digest())}function j(e,t){e.$index=t,e[c]=R&&R[t]}function z(e){K.push(J[e]),F.removeChild(J[e].element[0]),delete J[e]}var R,U,k,A,L,q=y,B=!1,F=a[0].parentNode,_=0,Y=0,E=0,N=0,X=0,G=0,J={},K=[],Q={},V=!1,W=1,Z=1,ee=[];if(n.$on("$destroy",function(){v&&(Object.keys(Q).forEach(function(e){Q[e]=void 0}),Q=void 0)}),s&&(A=e(l[2].split(" | ")[0]).assign,setTimeout(function(){S(1)},0)),n.$watchCollection(f,function(e,t){b(e),q.setContainerHeight(e.length*U),k=q.getDisplayHeight(),B||T(e,t)}),m){var te=q.debounce(function(e){!e||e.length<2||r.resolve(h(n,{$term:e})).then(function(e){var t=ee.map(function(e){return e.id});ee=(e||[]).filter(function(e){return t.indexOf(e.id)===-1}).concat(ee),P()})},200,n);n.$watch(g,function(e){te(e)})}q.register({updateContainer:x,getItemSize:function(){return U},getItemCount:function(){return R.length},reload:function(){S(Z)},getMdComponentId:function(){return void 0===u.mdComponentId&&u.$set("mdComponentId","_expansion_panel_id_"+i.nextUid()),u.mdComponentId}})}}var a={restrict:"A",require:"^^virtualPeteContainer",priority:1e3,terminal:!0,transclude:"element",compile:u};return a}e.$inject=["$parse","$rootScope","$document","$q","$mdUtil"],angular.module("virtual-pete").directive("virtualPeteRepeat",e);var t=4}();